<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>拖拽</title>
	<style>
		#div1{
			width: 200px;
			height: 200px;
			background: red;
			position: absolute;
			left: 10px;
			top: 10px;
		}
	</style>
</head>
<boby>
	hahahhahahhahah
	<div id="div1"></div>
	<script>

		var oDiv1 = document.getElementById('div1');
		oDiv1.onmousedown = function(e){ //e=event(事件源 事件 事件处理函数)
			e = e || window.event;//解决兼容性问题
			// alert(e.clientX);
			var iDisX = e.clientX - oDiv1.offsetLeft;
			var iDisY = e.clientY - oDiv1.offsetTop;


			document.onmousemove = function(e){
				e = e || window.event;//解决兼容性问题
				var iLeft = e.clientX -iDisX;
				var iTop = e.clientY -iDisY;
				if(iLeft<0){
					iLeft=0;
				}
				if(iLeft > document.documentElement.clientWidth-oDiv1.offsetWidth){
					iLeft = document.documentElement.clientWidth-oDiv1.offsetWidth;//浏览器可视范围内的宽度
				}
				if (iTop<0){
					iTop=0;
				}
				if(iTop > document.documentElement.clientHeight-oDiv1.offsetHeight){
					iTop = document.documentElement.clientHeight-oDiv1.offsetHeight;
				}
				oDiv1.style.left = iLeft + 'px';
				oDiv1.style.top = iTop + 'px';
				return false;//消除默认事件
			}
			document.onmouseup = function(){
				document.onmousemove = null;
			}

		}


</script>
</boby>
</html>